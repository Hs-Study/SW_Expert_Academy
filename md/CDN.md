### CDN 정리

<hr>

>  Content Distribution Networks
>
> ""지역적으로 분산된 다수의 사이트들""
>
> -동시접속한 수십만 사용자에게 어떻게(수백만개의 비디오 중에서 선택된) 컨텐츠를 스트리밍할 것인가?

 "비디오 트래픽"이 인터넷 대역폭 상당부분을 차지한다. ~~10억 YouTube사용자~~

`확장성` : 10억 사용자를 어떻게? --> 단일 고성능 서버로는 안된다. 

`다양성` : 사용자마다 환경이 다르다.

해결책은? 분산! 애플리케이션 레벨의 하부구조

* option 1 : 단일한 거대 서버 ==> 이 방법은 확장성이 없다.
  * 한 곳이 고장나면 전체가 중단
  * 네트웨크에 체증 발생
  * 원거리 클라이언트의 품질 저하
  * 비디오가 같은 링크를 통해 반복 전송됨
* option 2 : CDN에 비디오를 중복 저장하고 서비스
  * 컨텐츠의 복사본을 CDN노드에 저장 (ex Netflix에서 MadMen사본을 저장)
  * 구독자는 CDN에 콘텐츠를 요청
    * 가까운 곳의 사본을 가져옴 - 사용자로부터 가깝다
    * 네트워크 경로가 혼잡하면 다른 곳을 선택할 수도 있다
  * "over the top" 의 난점
    * 어느 CDN노드에서 컨텐츠를 제공할 것인가?
    * 혼잡상황에서 클라이언트의 행동은?
    * 어느 컨텐츠를 어느 CDN노드에 둘 것인가?

> Netflix 사례로 본 CDN
>
> `1` Bob manages Netflix account 
>
> `2` Bob의 브라우저에서 Netflix video요청
>
> * 여러버전의 비디오복사본이 CDN서버에 업로드되어 있다
>
> `3` Manifest file returned for requested video
>
> `4` DASH스트리밍을 받음